<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
  <head>
    <meta charset="UTF-8" />
    <title>Autori - Admin</title>
    <link rel="stylesheet" href="/style.css?version=2" />
  </head>

  <body>
    <div>
      <a href="/"><img src="/images/logo.png" width="30%" alt="Logo" /></a>
    </div>

    <h1>Autori</h1>

    <!-- Form di ricerca per nome o cognome -->
    <form method="get" th:action="@{/authors/search}" class="search-form">
      <input
        type="text"
        name="q"
        placeholder="Nome o Cognome‚Ä¶"
        th:value="${q}"
      />
      <button type="submit">üîç Cerca</button>
    </form>

    <!-- Pulsante Annulla ricerca -->
    <div th:if="${q != null and q != ''}" class="cancel-search">
      <a th:href="@{/authors}" class="button">Annulla ricerca</a>
    </div>

    <!-- Conteggio risultati -->
    <div th:if="${count != null}">
      <p>Risultati trovati: <strong th:text="${count}"></strong></p>
    </div>

    <!-- Messaggio di nessun risultato -->
    <div th:if="${message != null}" class="info" th:text="${message}"></div>

    <!-- Se non √® ricerca e la lista √® vuota -->
    <div th:if="${authors.isEmpty()} and ${count == null}">
      Non ci sono autori nel sistema
    </div>

    <!-- Lista autori -->
    <ul>
      <li th:each="author : ${authors}">
        <a th:href="@{'/author/' + ${author.id}}"
           th:text="${author.name} + ' ' + ${author.surname}">
          Nome Cognome
        </a>
      </li>
    </ul>
  </body>
</html>
